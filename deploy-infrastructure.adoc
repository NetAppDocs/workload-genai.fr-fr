---
sidebar: sidebar 
permalink: deploy-infrastructure.html 
keywords: ai, chatbot, infrastructure, bedrock, fsx for ontap 
summary: 'Vous devez déployer l"infrastructure pour la structure RAG dans votre environnement avant de pouvoir créer des bases de connaissances et des applications FSX pour ONTAP pour votre organisation. Les principaux composants de l"infrastructure sont le service d"IA Amazon Bedrock, une instance de machine virtuelle pour le moteur NetApp GenAI et un système de fichiers FSX pour ONTAP.' 
---
= Déployez l'infrastructure GenAI
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
Vous devez déployer l'infrastructure GenAI pour le framework RAG dans votre environnement avant de pouvoir créer des bases de connaissances et des applications FSX pour ONTAP pour votre entreprise. Les principaux composants de l'infrastructure sont le service Amazon Bedrock, une instance de machine virtuelle pour le moteur NetApp GenAI et un système de fichiers FSX pour ONTAP.

L'infrastructure déployée peut prendre en charge plusieurs bases de connaissances et chatbots. Vous n'aurez généralement besoin d'effectuer cette tâche qu'une seule fois.



== Détails de l'infrastructure

Votre déploiement GenAI doit se trouver dans une région AWS sur laquelle Amazon Bedrock est activé. https://docs.aws.amazon.com/bedrock/latest/userguide/knowledge-base-supported.html["Afficher la liste des régions prises en charge"^]

Le déploiement comprend les composants suivants.

Service Amazon Bedrock:: Amazon Bedrock est un service entièrement géré qui vous permet d'utiliser les modèles de base (FMS) des plus grandes entreprises d'IA via une seule API. Il fournit également les fonctionnalités nécessaires pour créer des applications d'IA générative sécurisées.
+
--
https://aws.amazon.com/bedrock/["En savoir plus sur Amazon Bedrock"^]

--
Machine virtuelle pour le moteur NetApp GenAI:: Le moteur NetApp GenAI est déployé au cours de ce processus. Il fournit la puissance de traitement permettant d'acquérir les données de vos sources de données, puis d'écrire ces données dans la base de données vectorielle.
FSX pour le système de fichiers ONTAP:: Le système de fichiers FSX pour ONTAP fournit le stockage de votre système GenAI.
+
--
Un seul volume est déployé qui contiendra la base de données vectorielle qui stocke les données générées par le modèle de base basé sur vos sources de données.

Les sources de données que vous intégrerez dans votre base de connaissances peuvent résider sur le même système de fichiers FSX pour ONTAP ou sur un autre système.

Le moteur NetApp GenAI surveille ces volumes et interagit avec eux.

--


L'image suivante montre l'infrastructure GenAI. Les composants numérotés 1, 2 et 3 sont déployés au cours de cette procédure. Les autres éléments doivent être en place avant de commencer le déploiement.

image:diagram-chatbot-infrastructure.png["Diagramme des composants du chatbot"]



== Déployez l'infrastructure GenAI

Vous devrez saisir vos informations d'identification AWS et sélectionner le système de fichiers FSX pour ONTAP pour déployer l'infrastructure de génération d'augmentation de récupération (RAG).

.Avant de commencer
Avant de commencer cette procédure, assurez-vous que votre environnement est conforme link:requirements.html["les conditions requises"] .

.Étapes
. Connectez-vous à Workload Factory.
. Dans la mosaïque workloads d'IA, sélectionnez *déployer et gérer*.
. Examinez le diagramme d'infrastructure et sélectionnez *Suivant*.
. Complétez les éléments de la section *paramètres AWS* :
+
.. *Informations d'identification AWS* : sélectionnez ou ajoutez les informations d'identification AWS qui fournissent des autorisations pour déployer les ressources AWS.
.. *Emplacement* : sélectionnez une région AWS, un VPC et un sous-réseau.
+
Le déploiement GenAI doit se trouver dans une région AWS sur laquelle le système Amazon Bedrock est activé. https://docs.aws.amazon.com/bedrock/latest/userguide/knowledge-base-supported.html["Afficher la liste des régions prises en charge"^]



. Complétez les éléments de la section *Paramètres de l'infrastructure* :
+
.. *Tags* : saisissez toutes les paires clé/valeur de balise que vous souhaitez appliquer à toutes les ressources AWS qui font partie de ce déploiement.
.. *Paire de clés* : sélectionnez une paire de clés qui vous permet de vous connecter en toute sécurité à l'instance du moteur NetApp GenAI.


. Sélectionnez *déployer* pour commencer le déploiement.


.Résultat
Workload Factory commence à déployer l'infrastructure de chatbot Ce processus peut prendre jusqu'à 10 minutes.

Au cours du processus de déploiement, les éléments suivants sont configurés :

* Le réseau est configuré avec les terminaux privés.
* Le rôle IAM, le profil d'instance et le groupe de sécurité sont créés.
* L'instance de machine virtuelle du moteur GenAI est déployée.
* Amazon Bedrock est configuré pour envoyer des journaux à Amazon CloudWatch, en utilisant un groupe de journaux avec le préfixe `/aws/bedrock/`.
* Le moteur GenAI est configuré pour envoyer des journaux aux journaux Amazon CloudWatch, en utilisant un groupe de journaux portant le nom `/netapp/wlmai/<tenancyAccountId>/randomId`, où `<tenancyAccountID>` est le https://docs.netapp.com/us-en/bluexp-automation/platform/get_identifiers.html#get-the-account-identifier["ID de compte BlueXP"^] pour l'utilisateur actuel.

